title: 库存管理之成本算法
date: 2019-06-26 10:24:37
tags: [随笔]
---

**库存管理**，是指企业对尚未售出货物与原材料的管理。它是企业运营需求上的重要一环，也是管理者极为关心的课题。比如，依照著名的摩尔定律，计算机运算能力每18个月会加倍，故导致科技产品的生命周期过短，一项新产品的销售热潮经常仅在3~9个月。在销售热潮期间，如果库存不足的话，会无法满足客户需求，流失部分订单。如果库存过多的话，则会积压公司资金。

**成本**，指已销售商品的进价。由于商品的进价不会固定维持在一个价格，可能因为进货渠道的改变、付款方式的改变、商品原材料价格波动等等导致变化。销售商品的时候，我们需要一些方式来确定一个适当的进货价格，以计算商品销售成本和确定库存价值，据此核算商品销售损益，用以反映企业的经营状况。不同的成本算法还会影响企业的税收负担、现金流等。常见的成本算法有四种：加权平均、移动加权平均、先进先出、后进先出。

## 加权平均
**加权平均** 是以采购历史中的商品采购均价作为商品成本，最后以 **商品采购均价** 乘以销售数量得到销售成本，乘以库存数量得到库存成本，其计算方式如下：

```
商品采购均价  =（期初库存金额 + 本期购入金额）/（期初库存数量 + 本期购入数量）
库存成本 = 商品采购均价 * 库存数量
商品销售成本 = 商品采购均价 * 销售数量

|日期 |操作|商品|金额|数量|
| :--- | :--- | :--- | :--- | :--- |
|01-02|购买|A|1|10|
|01-05|购买|A|1|5|
|01-06|销售|A|2|5|
|01-10|购买|A|0.5|10|
|01-14|销售|A|2|10|

从以上流水我们可以看出进行了三次采购操作，则商品的采购均价为 0.8 = ( 1 * 10  + 1 * 5  + 0.5 * 10 ) / ( 10 + 5  + 10 ) 
库存成本我们通过流水可知一共购买了25个A商品，销售了15个A商品，剩余10个，则库存成本为 8 = 0.8 * 10
商品销售成本为 12 = 0.8 * 15 
商品销售利润为 18 = 2 * 15 - 0.8 * 15
```
在使用 **加权平均** 的情况下，如果商品的采购金额经常发生变化，则成本的计算会受到历史采购的影响，不能较好真实的反映当前情况，从而影响销售利润和库存成本的计算。

## 移动加权平均
**移动加权平均** 会记录每次库存发生变化后的成本，可以准确计算单笔销售的利润，其计算方式如下：

```
|日期 |操作|商品|金额|数量|
| :--- | :--- | :--- | :--- | :--- |
|01-02|购买|A|1|10|
|01-05|购买|A|1|5|
|01-06|销售|A|2|5|
|01-10|购买|A|0.5|10|
|01-14|销售|A|2|10|

使用移动加权平均法的情况下
1月2号、1月5号连续同采购价格采购15个A商品后，库存成本为 1 * 10 + 1 * 5 = 15，成本单价为1

1月6号销售5个A商品， 商品销售成本为 1 * 5 = 5 商品销售利润为 2 * 5 - 1 * 5 = 5，库存成本变为 1 * 10 = 10

1月10号以0.5的采购价格，采购了10个A商品，这时库存成本为 1 * 10 + 0.5 * 10 = 15 成本单价为 ( 1 * 10 + 0.5 * 10 )  / ( 10 + 10 ) = 0.75

1月14号销售10个A商品，商品销售成本为 0.75 * 10 = 7.5 商品销售利润为 2 * 10 - 0.75 * 10 = 12.5

综上到期末最终数据为
库存数量为 10 
库存成本为 7.5 = 0.75 * 10
商品销售成本为 12.5 = 1 * 5 + 0.75 * 10
商品销售利润为 17.5 = 5 + 12.5

 ```
 
**移动加权平均** 计算的商品销售成本相对均衡准确，但计算的过程相对复杂。

## 先进先出
**先进先出** 是在销售商品时，将最早购入的商品卖出并将其进价作为成本的一种方法，即先购入先销售。这种方法一般适用于易变质的商品，比如生鲜类商品。其计算方式如下：

```

|日期 |操作|商品|金额|数量|
| :--- | :--- | :--- | :--- | :--- |
|01-02|购买|A|1|10|
|01-05|购买|A|1|5|
|01-06|销售|A|2|5|
|01-10|购买|A|0.5|10|
|01-14|销售|A|2|10|

还是这个流水，在使用先进先出算法情况下我们需要按批次记录商品数量和采购价，所以需要关注的东西较多

1月2号采购A商品10个，采购单价为1，这批商品记为 批次一

1月5号采购A商品5个，采购单价为1，这批商品记为 批次二 这时A商品库存数量为 15 = 10 [ 批次一 ] + 5 [ 批次一 ]，库存成本为 15 = 1 * 10 [ 批次一 ] + 1 * 5 [ 批次一 ]

1月6号销售5个A商品，根据先进先出规则，我们应当先销售 批次一  的商品，所以商品销售成本为 5 = 1 * 5 [ 批次一 ]，商品销售利润为 5 = 2 * 5 [ 批次一 ] - 1 * 5 [ 批次一 ]，库存数量为 10 = 5 [ 批次一 ] + 5 [ 批次二 ] 
库存成本为 10 = 1 * 5 [ 批次一 ]  + 1 * 5 [ 批次二 ] 
 
1月10号采购A商品10个，采购单价为0.5，这批商品记为 批次三  这时A商品库存数量为 20 = 5 [ 批次一 ]  + 5 [ 批次二 ]  + 10 [ 批次三 ]，库存成本为 15 = 1 * 5 [ 批次一 ] + 1 * 5 [ 批次二 ] + 0.5 * 10 [ 批次三 ]

1月14号销售10个A商品，根据先进先出规则，我们应当先销售 批次一 的商品，但批次一商品库存不够，我们应当按采购顺序销售 批次二 商品，所以商品销售成本为 10 = 1 * 5 [ 批次一 ] + 1 * 5 [ 批次二 ]
商品销售利润为 10 = ( 2 * 5 [ 批次一 ]  + 2 * 5 [ 批次二 ] ) - (1 * 5 [ 批次一 ]  + 1 * 5 [ 批次二 ] )
 
综上到期末最终数据为
库存数量为 10 [批次三]  
库存成本为 5 = 0.5 * 10 [ 批次三 ] 
商品销售成本为 15 = 1 * 5 [ 批次一 ] + 1 * 5 [ 批次一 ] + 1 * 5 [ 批次二 ]
商品销售利润为 15 = 5 + 10

```

使用 **先进先出** 计算的期末库存成本，比较接近市场价。在商品价格波动，且物价普遍处于上涨状态的情况下，先购进的货物其成本相对较低，后购进的货物成本偏高。这样销售的货物价值就低于市场价值，货物销售成本偏低，而期末存货成本偏高。但因货物的售价是按近期市价计算，因而收入较多，销售收入和销售成本不符合配比原则，以此计算出来的利润就偏高。

利润偏高有利于增强投资人信心，同时不少企业按照利润水平的高低来评价管理人员，并提供一定的奖励。此时管理人员往往乐于采用先进先出法，因为这样做会高估任期内的利润水平，从而多得眼前利益。但偏高的利润也会加重企业的所得税负担，以及向投资人的分红，从而导致企业现金流出量增加。

## 后进先出

**后进先出** 和 **先进先出** 正好相反，是将最近购入的商品卖出并将其进价作为成本的一种方式，即后购入先销售。其计算方式如下：

```
|日期 |操作|商品|金额|数量|
| :--- | :--- | :--- | :--- | :--- |
|01-02|购买|A|1|10|
|01-05|购买|A|1|5|
|01-06|销售|A|2|5|
|01-10|购买|A|0.5|10|
|01-14|销售|A|2|10|

依然是这个流水，后进先出法的计算大体上和先进先出差不多

1月2号采购A商品10个，采购单价为1，这批商品记为 批次一

1月5号采购A商品5个，采购单价为1，这批商品记为 批次二 这时A商品库存数量为 15 = 10 [ 批次一 ] + 5 [ 批次一 ]，库存成本为 15 = 1 * 10 [ 批次一 ] + 1 * 5 [ 批次一 ] 

1月6号销售5个A商品，根据后进先出规则，我们应先销售 批次二  的商品，所以商品销售成本为 5 = 1 * 5 [ 批次二 ]，商品销售利润为 5 = 2 * 5 [ 批次二 ] - 1 * 5 [ 批次二 ]，库存数量为 10 [ 批次一 ] 
 库存成本为 10 = 1 * 10 [ 批次一 ] 
 
1月10号采购A商品10个，采购单价为0.5，这批商品记为 批次三  这时A商品库存数量为 20 = 10 [ 批次一 ]   + 10 [ 批次三 ]，库存成本为 15 = 1 * 10 [ 批次一 ] + 0.5 * 10 [ 批次三 ]

1月14号销售10个A商品，根据后进先出规则，我们应当先销售 批次三 商品，所以商品销售成本为 5 = 0.5 * 10 [ 批次三 ]，商品销售利润为 15 = 2 * 10 - 0.5 * 10 [ 批次三 ]
 
 
综上到期末最终数据为
库存数量为 10 [批次一]  
库存成本为 10 = 1 * 10 [ 批次一 ] 
商品销售成本为 10 = 1 * 5 [ 批次二 ] + 0.5 * 10 [ 批次三 ] 
商品销售利润为 20 = 5 + 15

```

使用 **后进先出** 法，且物价波动较大的情况下，期末库存成本和市价偏离较大，不能反映当时存货的实际成本。但利润和销售成本和市场接近，较能反映当时的损益水平。对企业来说在预期物价上涨的情况下，采用后进先出可以达到递延所得税支出的目的。

```

企业在选择成本算法的时候，首要因素是库存货物的特点及管理要求。在大多数情况下货物都符合 先进先出 的特点，所以 先进先出 的使用比较多一点。
 
第二方面的因素就是对企业财务的影响，不同的成本算法会直接影响期末库存价值的确定和销售成本的计算，进而对企业的利润、税收负担、现金流量、财务比率等产生影响。在物价持续上涨的情况下，采用 后进先进 会导致较低的 期末库存、销售毛利、所得税和净收益额；而采用 先进先出 其结果恰好相反。如果物价持续下跌，则会得出相反的结论。不论物价如何变动，采用 平均法 ( 包括 加权平均 和 移动平均 ) 核算的结果，总是介于 先进先出 和 后进先出 之间。但是，上述存成本算法对企业的一般财务影响又会因企业自身的特点及其所处的不同时期而产生差异。例如：周转很快、库存积压很少，则 后进先出 的优势也不会充分显示。
 
第三面的因素则是对企业经营管理和业绩评价的影响。由于库存货物的管理一般是 先进先出，如采用 后进先出 核算，其结果可能与实际情况不符。不仅如此，后进先出 虽然能够减少所得税，但同时会导致较低的净收益，影响企业经营管理者的经营业绩，影响以净收益为基础的各种奖励和报酬。因此，从内部管理及业绩评价的角度出发，采用 先进先出 比采用 后迸先出 更为合理。此外，在不同企业之间进行经营业绩的比较时，成本算法的不同也将影响业绩评价的正确性。

```




